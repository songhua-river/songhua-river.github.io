---
layout: post
title: 线上部署
categories:
  - Node
tags:
  - Node
abbrlink: 5cd50760
date: 2021-01-12 23:44:35
---

#### 安装ndoe

[NodeSource](https://github.com/nodesource/distributions)是一家致力于提供企业级Node支持的公司。它维护一个包含多个Node.js版本的APT存储库。

```bash
# As root
curl -sL https://rpm.nodesource.com/setup_14.x | bash -

# No root privileges 
curl -sL https://rpm.nodesource.com/setup_14.x | sudo bash -
```

#### 打包文件含有的配置项

+ package.json

+ nginx-conf [nginx](/posts/a477be03) 配置项

+ process.yaml pm2配置文件 

```yaml
apps:
  - script   : ./app.js
    name     : 'app'
    instances: 4
    watch	   : true
    exec_mode: cluster
```

#### 把打包文件上传至服务器

通过[scp命令](/posts/b2a05287/#scp)把打包文件上传至服务器

#### 启动程序

+ 通过[tar解压命令](posts/7375f30c/#打包) 把项目文件解压到`root`目录

+ 通过  `npm install --production` 初始化项目

+ `npm start` 启动项目

现在可以通过 服务器地址 + 项项目目配置的端口号 访问项目

#### [配置Nginx](/posts/a477be03)