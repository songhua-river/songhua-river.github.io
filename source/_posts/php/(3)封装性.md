---
title: 封装性
mathjax: true
abbrlink: a776df59
tags:
  - PHP
categories:
  - PHP
date: 2020-09-23 11:47:16
---

### PHP对象封装性

封装就是把对象中的成员属性和成员方法加上访问修饰符,尽可能隐藏内部细节.达到对成员的**访问控制**(不是禁止访问).

+ public (共有的 默认)
+ private (私有的)
+ protected (受保护的)

魔术方法 类似于es6 set get 只针对保护和私有属性或方法
+ __set()
+ __get()
+ __isset()
+ __unset()

```php
class Person {
    public $name; //共有的
    private $age; //私有的
    protected $money; //受保护的

    // 私有成员方法,不能在类的外部被访问
    private function getName($name='') {

    }

    // 被保护的成员方法.不能在类的外部被访问,只在内部时候的有区别
    protected function getAge($age='') {

    }

    public function userCard() {
        echo $this->getName();
    }

    public function __set($key,$value){
        // 在设置属性时触发
        // 魔术法方法都 只针对 protected  private
        if($key==='name' && $value==="Gavin") {

        }
    }
    
    //  类似于 es6 get set 
    public function __get($key){
        if($key == 'age') {
            echo "protected";
        }
    }

    public function __isset($key){
        if($key == 'age') {
            return 'private'.
        }
    }

    public function __unset($key){
        if($key == 'age') {
            return 'private'.
        }
    }
}

$Lisa = new Person();
echo isset($Lisa->age);

echo unset($List -> name);

```
