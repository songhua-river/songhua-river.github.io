---
title: Semantic Versioning版本号比较
mathjax: true
tags:
  - JavaScript
  - 算法
categories:
  - 每日一题
abbrlink: 81f7ed00
date: 2020-09-30 13:30:51
---

Semantic Versioning 是一个前端通用的版本规范。格式为`{MAJOR}.{MINOR}.{PATCH}-{alpha|beta|rc}.{number}`，要求实现 compare(a, b) 方法，比较 a, b 两个版本大小.

+ 当 a > b 是返回 1
+ 当 a = b 是返回 0
+ 当 a < b 是返回 -1
+ 其中，rc > beta > alpha，major > minor > patch
+ 例子，1.2.3 < 1.2.4 < 1.3.0-alpha.1 < 1.3.0-alpha.2 < 1.3.0-beta.1 < 1.3.0-rc.1 < 1.3.0

语义化版本号[Semantic Versioning 2.0.0](https://semver.org/lang/zh-CN/)

### 

```javascript
function compare(v1, v2) {
    var v1Arr = v1.split(/\.|-/g),
        v2Arr = v2.split(/\.|-/g),
        v1len = v1Arr.length,
        v2len = v2Arr.length;
    var i = 0;
    while (i < Math.max(v1len, v2len)) {
        if (v1Arr[i] < v2Arr[i]) {
            return -1
        } else if (v1Arr[i] > v2Arr[i]) {
            return 1
        }
        i++;
    }
    if (v1len === v2len) return 0;
    return v1len < v2len ? 1 : -1;
}
```
